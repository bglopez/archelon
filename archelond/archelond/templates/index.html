{% extends 'base.html' %}
{% block title %}
Archelon is Hungry
{% endblock %}

{% block content %}

<script id="CommandsTemplate" type="text/x-handlebars-template">
{% raw %}
  {{#each []}}
  <tr>
	<td>{{ this.attributes.command }}</td>
	<td>{{ this.attributes.host }}</td>
	<td>{{ this.last_used }}</td>
	<td></td>
  </tr>
  {{/each}}
{% endraw %}
</script>
<div class="container-fluid">
  <div class="row-fluid">
	<div class="col-xs-8">
	  <h1>
		Archelon Shell History Management
	  </h1>
	</div>
	<div class="col-xs-4" id="token">
	  <a href="#" id="token-toggle" class="pull-right token btn btn-lg btn-info">
		<span id="token-label">Reveal Token</span></a>
	</div>
  </div>
</div>
<div class="row">
  <div class="col-xs-12" id="token-display">
  </div>
</div>
<div class="container-fluid">
  <table id="history-table" class="table table-striped">
	<thead>
      <tr>
		<th>Command</th>
		<th>Host Last Used</th>
		<th>Time Last Used</th>
		<th>Action</th>
      </tr>
	</thead>
	<tbody id="history-table-body">
	</tbody>
  </table>
</div>
{% endblock %}

{% block extra_js %}

<script type="text/javascript" charset="utf-8">
  var HISTORY_API_URL = "{{ url_for('history') }}";
  var TOKEN_API_URL = "{{ url_for('token') }}";
</script>
{% assets filters='jsmin', output='gen/history.js',
    'js/history.js'
%}
<script type="text/javascript" src="{{ ASSET_URL }}"></script>
{% endassets %}
{% endblock %}
